######################################################################
# Automatically generated by qmake (2.01a) mar feb 7 09:17:19 2012
######################################################################

# ensure one "debug_and_release" in CONFIG, for clarity...
debug_and_release {
    CONFIG -= debug_and_release
    CONFIG += debug_and_release
}

# ensure one "debug" or "release" in CONFIG so they can be used as
# conditionals instead of writing "CONFIG(debug, debug|release)"...
CONFIG(debug, debug|release) {
    CONFIG -= debug release
    CONFIG += debug
    }
CONFIG(release, debug|release) {
        CONFIG -= debug release
        CONFIG += release
}

DEFINES += LIBPW_LIBRARY

QT += xml xmlpatterns sql

TARGET = pw
TEMPLATE = lib
CONFIG += qtestlib
#CONFIG += staticlib  # comentar para que se genere la libreria como .dll

win32-*{
   !contains(QMAKE_TARGET.arch, x86_64) {   # !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
        INCLUDEPATH += . ../../libs/libQparams/muParser/include \
                ../../libs/libQparams \
                ../../libs/libPW \
                ../../libs/boost_1_58_0_msvc10_64 \
                ../../libs/openCV3_0_vs10_x64/include \
                ../../libs/libOrsa \
                ../../libs/libOrsaAsift \
                ../../libs
    }else{
        INCLUDEPATH += . ../../libs/libQparams/muParser/include \
                ../../libs/libQparams \
                ../../libs/libPW \
                ../../libs/boost_1_58_0_msvc10_64 \
                ../../libs/openCV3_0_vs10_x64/include \
                ../../libs/libOrsa \
                ../../libs/libOrsaAsift \
                ../../libs
    }
}

# Input
HEADERS += \
    libPW.h \
    TestAperoDistReader.moc \
    CameraModel.h \
    DistortionModel.h \
    PhotogrammetricModel.h \
    RadialBasic.h \
    RadialExtended.h \
    Decentering.h \
    Camera.h \
    CameraModelReader.h \
    MicMac/AperoModelReader.h \
    Project.h \
    PWImage.h \
    Process.h \
    MicMac/TapiocaProcess.h \
    MicMac/TapasProcess.h \
    MicMac/AperiCloudProcess.h \
    ExternalProcess.h \
    MultiProcess.h \
    MicMac/MicMacSparseProcess.h \
    MicMac/MicMacProcess.h \
    MicMac/Nuage2PlyProcess.h \
    MicMac/MicMacDenseProcess.h \
    tests/TestWaitForResultsProcess.h \
    ExternalOrientation.h \
    MicMac/MicMacEOReader.h \
    WaitForResultsProcess.h \
    PWPoint.h \
    PW3dPoint.h \
    PW2dPoint.h \
    PWImagePoint.h \
    tests/TestCalculateImagePoints.h \
    ProjectReader.h \
    SQLiteProjectReader.h \
    ProjectWriter.h \
    SQLiteProjectWriter.h \
    PersistenceManager.h \
    tests/TestPersistenceManager.h \
    WaitProcess.h \
    MicMac/TapiocaWaitResults.h \
    MicMac/TapiocaShProcess.h \
    GroundControlIO.h \
    GroundControlTxtIO.h \
    MicMac/AppuisWriter.h \
    MicMac/AperoProcess.h \
    MicMac/BasculeProcess.h \
    MicMac/TaramaProcess.h \
    MicMac/MaltProcess.h \
    MicMac/TawnyProcess.h \
    MicMac/MicMacOrthoProcess.h \
    MicMac/MicMacOrtho2Process.h \
    MicMac/PortoProcess.h \
    GroundControlImageMasterIO.h \
    FraserModel.h \
    MicMac/AperoModelWriter.h \
    ASIFT/ASIFTkpd.h \
    ASIFT/ASIFTmactching.h \
    ImageMatching.h \
    ASIFT/AsiftMatchingIO.h \
    ASIFT/AsiftToPastisProcess.h \
    Tools/ConvertProcess.h \
    ImageMetadata/QImageMetaDataRational.h \
    ImageMetadata/QImageMetaData.h \
    CameraMetadataIO.h \
    PS/PSMarkersIO.h \
    ASIFT/AsiftProcessConcurrent.h \
    MicMac/Apero2pmvs.h \
    PMVS/PMVSProccess.h \
    MicMac/MesureBascWriter.h \
    MicMac/SBGlobBasculeProcess.h \
    ProjectMetadataIO.h \
    OpenCV/OpenCV_kpm_process.h \
    OpenCV/OpenCVKpM.h \
    OpenCV/OpenCVKpMParameters.h \
    OpenCV/OpenCVKpMParametersDefinitions.h \
    ASIFT/ASIFTParametersDefinitions.h \
    MicMac/MicMacParametersDefinitions.h \
    ImagePairsFileIO.h \
    TiePointsIO.h    TiePointsIO.h \
    FishEyeModel.h \
    ImagePointCloud.h \
    pw_global.h \
    OpenMVG/OpenMVGParametersDefinitions.h \
    OpenMVG/OpenMVGKpmProcessConcurrent.h \
    OpenMVG/OpenMVGKpProcess.h \
    OpenMVG/OpenMVGMatchingProcess.h \
    PersistenceProcess/WriteMatchesProcess.h \
    PersistenceProcess/WriteProjectProcess.h \
    PWGraphImages.h \
#    Tools/KpMProcessMonitor.h \
    PWMatchesCategory.h \
    TiePointsManager.h \
    ImagePoint.h \
    TiePoint.h \
    #ProcessConcurrent.h \
    #ImagePreprocessing/ProcessConcurrentTest1.h \
#    ImagePreprocessing/PreprocessImageTest1.h
    MicMac/TapiocaIO.h \
    Preprocessing/WallisProcess.h \
    Preprocessing/WallisBatchProcess.h \
#    Tools/OrtoSkyXMLDefinitions.h
    SURE/Apero2SureProcess.h \
    SURE/SUREProcess.h \
    MicMac/DrunkProcess.h \
    ProcessConcurrent.h \
    MSD/MSD.h \
    MSD/MSDImgPyramid.h \
    MSD/ProcessedImageData.h \
    MSD/MSDkpd.h \
    MSD/MSDMatching.h \
    MSD/MSDProcess.h

SOURCES += tests/TestAperoDistReader.cpp \
    libPW.cpp \
    CameraModel.cpp \
    DistortionModel.cpp \
    PhotogrammetricModel.cpp \
    RadialBasic.cpp \
    RadialExtended.cpp \
    Decentering.cpp \
    Camera.cpp \
    CameraModelReader.cpp \
    MicMac/AperoModelReader.cpp \
    Project.cpp \
    PWImage.cpp \
    Process.cpp \
    MicMac/TapiocaProcess.cpp \
    MicMac/TapasProcess.cpp \
    MicMac/AperiCloudProcess.cpp \
    ExternalProcess.cpp \
    MultiProcess.cpp \
    MicMac/MicMacSparseProcess.cpp \
    MicMac/MicMacProcess.cpp \
    MicMac/Nuage2PlyProcess.cpp \
    MicMac/MicMacDenseProcess.cpp \
    WaitForResultsProcess.cpp \
    tests/TestWaitForResultsProcess.cpp \
    tests/TestsMain.cpp \
    ExternalOrientation.cpp \
    MicMac/MicMacEOReader.cpp \
    tests/TestMicMacEOReader.cpp \
    PWPoint.cpp \
    PW3dPoint.cpp \
    PW2dPoint.cpp \
    PWImagePoint.cpp \
    tests/TestCalculateImagePoints.cpp \
    ProjectReader.cpp \
    SQLiteProjectReader.cpp \
    ProjectWriter.cpp \
    SQLiteProjectWriter.cpp \
    PersistenceManager.cpp \
    tests/TestPersistenceManager.cpp \
    WaitProcess.cpp \
    MicMac/TapiocaWaitResults.cpp \
    MicMac/TapiocaShProcess.cpp \
    GroundControlIO.cpp \
    GroundControlTxtIO.cpp \
    MicMac/AppuisWriter.cpp \
    MicMac/AperoProcess.cpp \
    MicMac/BasculeProcess.cpp \
    MicMac/TaramaProcess.cpp \
    MicMac/MaltProcess.cpp \
    MicMac/TawnyProcess.cpp \
    MicMac/MicMacOrthoProcess.cpp \
    MicMac/MicMacOrtho2Process.cpp \
    MicMac/PortoProcess.cpp \
    GroundControlImageMasterIO.cpp \
    FraserModel.cpp \
    MicMac/AperoModelWriter.cpp \
    ASIFT/ASIFTkpd.cpp \
    ASIFT/ASIFTmactching.cpp \
    ImageMatching.cpp \
    ASIFT/AsiftMatchingIO.cpp \
    ASIFT/AsiftToPastisProcess.cpp \
    Tools/ConvertProcess.cpp \
    ImageMetadata/QImageMetaData.cpp \
    CameraMetadataIO.cpp \
    PS/PSMarkersIO.cpp \
    ASIFT/AsiftProcessConcurrent.cpp \
    MicMac/Apero2pmvs.cpp \
    PMVS/PMVSProccess.cpp \
    MicMac/MesureBascWriter.cpp \
    MicMac/SBGlobBasculeProcess.cpp \
    ProjectMetadataIO.cpp \
    OpenCV/OpenCV_kpm_process.cpp \
    OpenCV/OpenCVKpM.cpp \
    OpenCV/OpenCVKpMParameters.cpp \
    ImagePairsFileIO.cpp \
    ImagePointCloud.cpp \
    TiePointsIO.cpp \
    FishEyeModel.cpp \
    OpenMVG/OpenMVGKpmProcessConcurrent.cpp \
    OpenMVG/OpenMVGKpProcess.cpp \
    OpenMVG/OpenMVGMatchingProcess.cpp \
    PersistenceProcess/WriteMatchesProcess.cpp \
    PersistenceProcess/WriteProjectProcess.cpp \
    PWGraphImages.cpp \
#    Tools/KpMProcessMonitor.cpp \
    PWMatchesCategory.cpp \
#    Tools/ExternalInterfaceProcessMonitor.cpp \
    TiePointsManager.cpp \
    ImagePoint.cpp \
    TiePoint.cpp \
    #ProcessConcurrent.cpp \
    #ImagePreprocessing/ProcessConcurrentTest1.cpp \
#    ImagePreprocessing/PreprocessImageTest1.cpp
    MicMac/TapiocaIO.cpp \
    Preprocessing/WallisProcess.cpp \
    Preprocessing/WallisBatchProcess.cpp \
    SURE/Apero2SureProcess.cpp \
    SURE/SUREProcess.cpp \
    MicMac/DrunkProcess.cpp \
    ProcessConcurrent.cpp \
    MSD/MSD.cpp \
    MSD/MSDImgPyramid.cpp \
    MSD/ProcessedImageData.cpp \
    MSD/MSDkpd.cpp \
    MSD/MSDMatching.cpp \
    MSD/MSDProcess.cpp

LIBS += -L../../libs/openCV3_0_vs10_x64/x64/vc10/lib \
        -L$$PWD/../../libs/boost_1_58_0_msvc10_64/lib64-msvc-10.0

debug{
    win32-*{
        LIBS += -lopencv_core300d \
                -lopencv_highgui300d \
                -lopencv_imgproc300d \
                -lopencv_imgcodecs300d \
                -lopencv_xfeatures2d300d \
                -lopencv_features2d300 \
                -lopencv_calib3d300d

        !contains(QMAKE_TARGET.arch, x86_64) {
            LIBS += $$PWD/../../libs/libOrsa/build/debug/orsa.lib
            LIBS += $$PWD/../../libs/libOrsaAsift/build/debug/orsaAsift.lib
            DESTDIR = build/debug
        } else {
            LIBS += $$PWD/../../libs/libOrsa/build64/debug/orsa.lib
            LIBS += $$PWD/../../libs/libOrsaAsift/build64/debug/orsaAsift.lib
            DESTDIR = build64/debug
        }
    }

}else{
    win32-*{
        LIBS += -lopencv_core300 \
                -lopencv_highgui300 \
                -lopencv_imgproc300 \
                -lopencv_imgcodecs300 \
                -lopencv_xfeatures2d300 \
                -lopencv_features2d300 \
                -lopencv_calib3d300

        !contains(QMAKE_TARGET.arch, x86_64) {
            LIBS += $$PWD/../../libs/libOrsa/build/release/orsa.lib
            LIBS += $$PWD/../../libs/libOrsaAsift/build/release/orsaAsift.lib
            DESTDIR = build/release
        } else {
            LIBS += $$PWD/../../libs/libOrsa/build64/release/orsa.lib
            LIBS += $$PWD/../../libs/libOrsaAsift/build64/release/orsaAsift.lib
            DESTDIR = build64/release
        }
    }        
}
